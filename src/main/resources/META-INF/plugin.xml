<idea-plugin version="2">
  <id>com.gooddata</id>
  <name>GitHub Pull Request Viewer</name>
  <version>1.0</version>
  <vendor email="horizon@gooddata.com" url="http://www.gooddata.com">GoodData</vendor>

  <description><![CDATA[
      The plugin aims to ease the common task of doing code reviews. It downloads a specified pull request from
      GitHub and highlights the modified lines in the code editor. To start code review:
      <ol>
        <li>Make sure your personal access token with repo privileges is specified in the GitHub settings page</li>
        <li>Open the project</li>
        <li>Go to Project context menu -> GitHub Pull Request -> Start Code Review</li>
      </ol>
      To stop code review:
      <ol>
        <li>Go to Project context menu -> GitHub Pull Request -> Stop Code Review</li>
      </ol>
    ]]></description>

  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
  <idea-version since-build="139.0"/>


  <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
       on how to target different products -->
  <!-- uncomment to enable plugin in all products
  <depends>com.intellij.modules.lang</depends>
  -->
  <depends>Git4Idea</depends>
  <depends>org.jetbrains.plugins.github</depends>

  <extensions defaultExtensionNs="com.intellij">
    <postStartupActivity implementation="com.gooddata.github_pull_request_viewer.PluginStartupActivity"/>

    <projectService serviceInterface="com.gooddata.github_pull_request_viewer.services.FileHighlightService"
                    serviceImplementation="com.gooddata.github_pull_request_viewer.services.FileHighlightService"/>
  </extensions>

  <actions>
    <!-- Add your actions here -->
    <!--<action id="ViewGithubPullRequest" class="PRViewer" text="View GitHub Pull Request">
      <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
    </action>-->

    <group id="GithubCodeReviewButtonsGroup" text="GitHub Pull Request" popup="true">
      <action id="StartGithubCodeReview" class="com.gooddata.github_pull_request_viewer.actions.StartCodeReviewAction" text="Start Code Review"/>
      <separator/>
      <action id="StopGithubCodeReview" class="com.gooddata.github_pull_request_viewer.actions.StopCodeReviewAction" text="Stop Code Review"/>

      <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
      <add-to-group group-id="EditorPopupMenu" anchor="last"/>
    </group>
  </actions>

</idea-plugin>